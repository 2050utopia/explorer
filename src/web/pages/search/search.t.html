<template name="container">
  <div class="{styles.search}">
    <div class="{styles.main}">
      <p class="{styles.headtitle}"  #show={!flagSerch}>JD Chain</p>
      <div class="{styles.action}">
        <div class="{styles.bg}">
          <span class="{styles.title}">输入搜索:</span>
          <ant-Input class="{styles.input}" value="{searchParamInput}" onChange={onChangeInput}/>
          <ant-Button  class="{styles.btn}" icon="search" onClick={Search}>搜索</ant-Button>
        </div>
      
      </div>
      <div class="{styles.summary}"  #show={!flagSerch}>
        <div class="{styles.tabs} {styles.blockHeight}">
          <div class="{styles.span}">
            <div class="{styles.left}">
              <p class="{styles.title}">区块高度</p>
              <p class="{styles.data}">{search.blockHeight || 0}</p>
            </div>
            <div class="{styles.right}">
              <div class="{styles.logo} {styles.logoBH}">
              
              </div>
            </div>
          </div>
        </div>
        <div class="{styles.tabs} {styles.transactions}">
          <div class="{styles.span}">
            <div class="{styles.left}">
              <p class="{styles.title}">交易总数</p>
              <p class="{styles.data}">{search.transactionTotal || 0}</p>
            </div>
            <div class="{styles.right}">
              <div class="{styles.logo} {styles.logoTR}">
              
              </div>
            </div>
          </div>
        </div>
        <div class="{styles.tabs} {styles.users}">
          <div class="{styles.span}">
            <div class="{styles.left}">
              <p class="{styles.title}">用户总数</p>
              <p class="{styles.data}">{search.userTotal || 0}</p>
            </div>
            <div class="{styles.right}">
              <div class="{styles.logo} {styles.logoUS}">
              
              </div>
            </div>
          </div>
        </div>
        <div class="{styles.tabs} {styles.ledgers}">
          <div class="{styles.span}">
            <div class="{styles.left}">
              <p class="{styles.title}">数据账户总数</p>
              <p class="{styles.data}">{search.dataLedgersTotal || 0}</p>
            </div>
            <div class="{styles.right}">
              <div class="{styles.logo} {styles.logoLE}">
              
              </div>
            </div>
          </div>
        </div>
        <div class="{styles.tabs} {styles.contracts}">
          <div class="{styles.span}">
            <div class="{styles.left}">
              <p class="{styles.title}">合约总数</p>
              <p class="{styles.data}">{search.contractTotal || 0}</p>
            </div>
            <div class="{styles.right}">
              <div class="{styles.logo} {styles.logoCO}">
              
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="{styles.list}" #show={flagSerch}>
        <div class="{styles.listdesc}">
          找到相关的<span>{search.total}</span>个区块,<span>{search.transNum}</span>个交易,<span>{search.transNum}</span>条交易内容
        </div>
        <ant-Tabs>
          <ant-TabPane tab="全部" key='0'>
            <#if {{search.allData.length > 0}}>
              <#each {{search.allData}}>
                <article key={@index} class="{styles.option}">
                  <p class="{styles.title}">
                    <span>哈希值(HASH):</span>
                    <span :dangerouslySetInnerHTML="{__html: highLIght(hash_id)}"></span>
                  </p>
                  <p class="{styles.content}">
                    <#if {{@item.height}}>
                      <span>高度:</span>
                      <span>{{height}}</span>
                    </#if>
                    <#if {{@item.block_height}}>
                      <span>所在区块高度(Height):</span>
                      <span>{{block_height}}</span>
                    </#if>
                    <#if {{@item.block_detail}}>
                      <span>所在区块哈希值(HASH):</span>
                      <span>{{block_detail.hash_id}}</span>
                    </#if>
                  </p>
                  <p>
                    <#if {{@item.endpoint_public_key}}>
                      <span>签名者公钥:</span>
                      <span>{{endpoint_public_key}}</span>
                    </#if>
                  </p>
                  <p>
                    <#if {{@item.node_public_key}}>
                      <span>节点公钥:</span>
                      <span>{{node_public_key}}</span>
                    </#if>
                  </p>
                </article>
              </#each>
              <#else>
                暂无数据  
              </#else>
              <div style="padding: 30px 0; text-align: right" hidden>
                <ant-Pagination showQuickJumper  total={search.total}/>
              </div>
            </#if>
          </ant-TabPane>
          <ant-TabPane tab="区块" key='1'>
            <#if {{search.blockData.length > 0}}>
              <#each {{search.blockData}}>
                  <article  key={@index}  class="{styles.option}">
                    <p class="{styles.title}">
                      <span>哈希值(HASH):</span>
                      <span :dangerouslySetInnerHTML="{__html:highLIght(hash_id)}"></span>
                    </p>
                    <p class="{styles.content}">
                      <span>高度:</span>
                      <span>{{height}}</span>
                    </p>
                  </article>
              </#each>
              <#else>
                暂无数据  
              </#else>
              <div style="padding: 30px 0; text-align: right" hidden>
                <ant-Pagination showQuickjumper={true} hideOnSinglePage={true} defaultCurrent={2} total={{search.total}}/>
              </div>
            </#if>
          </ant-TabPane>
          <ant-TabPane tab="交易" key='2'>
            <#if {{search.transData.length > 0}}>
              <#each {{search.transData}}>
                <article  key={@index}  class="{styles.option}">
                  <p class="{styles.title}">
                    <span>哈希值(HASH):</span>
                    <span :dangerouslySetInnerHTML="{__html:highLIght(hash_id)}"></span>
                  </p>
                  <p class="{styles.content}">
                    <#if {{@item.height}}>
                      <span>高度:</span>
                      <span>{{height}}</span>
                    </#if>
                    <#if {{@item.block_height}}>
                      <span>所在区块高度(Height):</span>
                      <span>{{block_height}}</span>
                    </#if>
                    <#if {{@item.block_detail}}>
                      <span>所在区块哈希值(HASH):</span>
                      <span>{{block_detail.hash_id}}</span>
                    </#if>
                  </p>
                  <p>
                    <#if {{@item.endpoint_public_key}}>
                      <span>签名者公钥:</span>
                      <span>{{endpoint_public_key}}</span>
                    </#if>
                  </p>
                  <p>
                    <#if {{@item.node_public_key}}>
                      <span>节点公钥:</span>
                      <span>{{node_public_key}}</span>
                    </#if>
                  </p>
                </article>
              </#each>
              <div style="padding: 30px 0; text-align: right">
                <ant-Pagination showQuickjumper={true} hideOnSinglePage={true} defaultCurrent={2} total={{search.total}}/>
              </div>
              <#else>
                暂无数据  
              </#else>
            </#if>
          </ant-TabPane>
        </ant-Tabs>             
      </div>
    </div>
  </div>
</template>